from django import forms
from marketanalyzer.models import *

# Choices for LPCalcDetails: regions and their associated IDs.
regions = [(10000001, u'Derelik (10000001)'), (10000002, u'The Forge (10000002)'), (10000003, u'Vale of the Silent (10000003)'), (10000004, u'UUA-F4 (10000004)'), (10000005, u'Detorid (10000005)'), (10000006, u'Wicked Creek (10000006)'), (10000007, u'Cache (10000007)'), (10000008, u'Scalding Pass (10000008)'), (10000009, u'Insmother (10000009)'), (10000010, u'Tribute (10000010)'), (10000011, u'Great Wildlands (10000011)'), (10000012, u'Curse (10000012)'), (10000013, u'Malpais (10000013)'), (10000014, u'Catch (10000014)'), (10000015, u'Venal (10000015)'), (10000016, u'Lonetrek (10000016)'), (10000017, u'J7HZ-F (10000017)'), (10000018, u'The Spire (10000018)'), (10000019, u'A821-A (10000019)'), (10000020, u'Tash-Murkon (10000020)'), (10000021, u'Outer Passage (10000021)'), (10000022, u'Stain (10000022)'), (10000023, u'Pure Blind (10000023)'), (10000025, u'Immensea (10000025)'), (10000027, u'Etherium Reach (10000027)'), (10000028, u'Molden Heath (10000028)'), (10000029, u'Geminate (10000029)'), (10000030, u'Heimatar (10000030)'), (10000031, u'Impass (10000031)'), (10000032, u'Sinq Laison (10000032)'), (10000033, u'The Citadel (10000033)'), (10000034, u'The Kalevala Expanse (10000034)'), (10000035, u'Deklein (10000035)'), (10000036, u'Devoid (10000036)'), (10000037, u'Everyshore (10000037)'), (10000038, u'The Bleak Lands (10000038)'), (10000039, u'Esoteria (10000039)'), (10000040, u'Oasa (10000040)'), (10000041, u'Syndicate (10000041)'), (10000042, u'Metropolis (10000042)'), (10000043, u'Domain (10000043)'), (10000044, u'Solitude (10000044)'), (10000045, u'Tenal (10000045)'), (10000046, u'Fade (10000046)'), (10000047, u'Providence (10000047)'), (10000048, u'Placid (10000048)'), (10000049, u'Khanid (10000049)'), (10000050, u'Querious (10000050)'), (10000051, u'Cloud Ring (10000051)'), (10000052, u'Kador (10000052)'), (10000053, u'Cobalt Edge (10000053)'), (10000054, u'Aridia (10000054)'), (10000055, u'Branch (10000055)'), (10000056, u'Feythabolis (10000056)'), (10000057, u'Outer Ring (10000057)'), (10000058, u'Fountain (10000058)'), (10000059, u'Paragon Soul (10000059)'), (10000060, u'Delve (10000060)'), (10000061, u'Tenerifis (10000061)'), (10000062, u'Omist (10000062)'), (10000063, u'Period Basis (10000063)'), (10000064, u'Essence (10000064)'), (10000065, u'Kor-Azor (10000065)'), (10000066, u'Perrigen Falls (10000066)'), (10000067, u'Genesis (10000067)'), (10000068, u'Verge Vendor (10000068)'), (10000069, u'Black Rise (10000069)'), (11000001, u'Unknown (11000001)'), (11000002, u'Unknown (11000002)'), (11000003, u'Unknown (11000003)'), (11000004, u'Unknown (11000004)'), (11000005, u'Unknown (11000005)'), (11000006, u'Unknown (11000006)'), (11000007, u'Unknown (11000007)'), (11000008, u'Unknown (11000008)'), (11000009, u'Unknown (11000009)'), (11000010, u'Unknown (11000010)'), (11000011, u'Unknown (11000011)'), (11000012, u'Unknown (11000012)'), (11000013, u'Unknown (11000013)'), (11000014, u'Unknown (11000014)'), (11000015, u'Unknown (11000015)'), (11000016, u'Unknown (11000016)'), (11000017, u'Unknown (11000017)'), (11000018, u'Unknown (11000018)'), (11000019, u'Unknown (11000019)'), (11000020, u'Unknown (11000020)'), (11000021, u'Unknown (11000021)'), (11000022, u'Unknown (11000022)'), (11000023, u'Unknown (11000023)'), (11000024, u'Unknown (11000024)'), (11000025, u'Unknown (11000025)'), (11000026, u'Unknown (11000026)'), (11000027, u'Unknown (11000027)'), (11000028, u'Unknown (11000028)'), (11000029, u'Unknown (11000029)'), (11000030, u'Unknown (11000030)')]

# Choices for LPSearchFilter: corps that have LP stores, as well as an "All" option.
lp_corps = [(u'All', u'All'), (u'24th Imperial Crusade', u'24th Imperial Crusade'), (u'Aliastra', u'Aliastra'), (u'Allotek Industries', u'Allotek Industries'), (u'Amarr Certified News', u'Amarr Certified News'), (u'Amarr Civil Service', u'Amarr Civil Service'), (u'Amarr Constructions', u'Amarr Constructions'), (u'Amarr Navy', u'Amarr Navy'), (u'Amarr Trade Registry', u'Amarr Trade Registry'), (u'Ammatar Consulate', u'Ammatar Consulate'), (u'Ammatar Fleet', u'Ammatar Fleet'), (u'Archangels', u'Archangels'), (u'Ardishapur Family', u'Ardishapur Family'), (u'Astral Mining Inc.', u'Astral Mining Inc.'), (u'Bank of Luminaire', u'Bank of Luminaire'), (u'Blood Raiders', u'Blood Raiders'), (u'Boundless Creation', u'Boundless Creation'), (u'Brutor tribe', u'Brutor tribe'), (u'Caldari Business Tribunal', u'Caldari Business Tribunal'), (u'Caldari Constructions', u'Caldari Constructions'), (u'Caldari Funds Unlimited', u'Caldari Funds Unlimited'), (u'Caldari Navy', u'Caldari Navy'), (u'Caldari Provisions', u'Caldari Provisions'), (u'Caldari Steel', u'Caldari Steel'), (u'Carthum Conglomerate', u'Carthum Conglomerate'), (u'CBD Corporation', u'CBD Corporation'), (u'CBD Sell Division', u'CBD Sell Division'), (u'Center for Advanced Studies', u'Center for Advanced Studies'), (u'Chemal Tech', u'Chemal Tech'), (u'Chief Executive Panel', u'Chief Executive Panel'), (u'Civic Court', u'Civic Court'), (u'Combined Harvest', u'Combined Harvest'), (u'CONCORD', u'CONCORD'), (u'Core Complexion Inc.', u'Core Complexion Inc.'), (u'Corporate Police Force', u'Corporate Police Force'), (u'Court Chamberlain', u'Court Chamberlain'), (u'CreoDron', u'CreoDron'), (u'Deep Core Mining Inc.', u'Deep Core Mining Inc.'), (u'Dominations', u'Dominations'), (u'Ducia Foundry', u'Ducia Foundry'), (u'Duvolle Laboratories', u'Duvolle Laboratories'), (u'Echelon Entertainment', u'Echelon Entertainment'), (u'Egonics Inc.', u'Egonics Inc.'), (u'Eifyr and Co.', u'Eifyr and Co.'), (u'Emperor Family', u'Emperor Family'), (u'Expert Distribution', u'Expert Distribution'), (u'Expert Housing', u'Expert Housing'), (u'Federal Administration', u'Federal Administration'), (u'Federal Defence Union', u'Federal Defence Union'), (u'Federal Freight', u'Federal Freight'), (u'Federal Intelligence Office', u'Federal Intelligence Office'), (u'Federal Navy Academy', u'Federal Navy Academy'), (u'Federation Customs', u'Federation Customs'), (u'Federation Navy', u'Federation Navy'), (u'FedMart', u'FedMart'), (u'Food Relief', u'Food Relief'), (u'Freedom Extension', u'Freedom Extension'), (u'Further Foodstuffs', u'Further Foodstuffs'), (u'Garoun Investment Bank', u'Garoun Investment Bank'), (u'Guardian Angels', u'Guardian Angels'), (u'Guristas', u'Guristas'), (u'Guristas Production', u'Guristas Production'), (u'Hedion University', u'Hedion University'), (u'Home Guard', u'Home Guard'), (u'House of Records', u'House of Records'), (u'Hyasyoda Corporation', u'Hyasyoda Corporation'), (u'HZO Refinery', u'HZO Refinery'), (u'Imperial Academy', u'Imperial Academy'), (u'Imperial Armaments', u'Imperial Armaments'), (u'Imperial Chancellor', u'Imperial Chancellor'), (u'Imperial Shipment', u'Imperial Shipment'), (u'Impetus', u'Impetus'), (u'Inherent Implants', u'Inherent Implants'), (u'Inner Zone Shipping', u'Inner Zone Shipping'), (u'Intaki Bank', u'Intaki Bank'), (u'Intaki Commerce', u'Intaki Commerce'), (u'Intaki Space Police', u'Intaki Space Police'), (u'Intaki Syndicate', u'Intaki Syndicate'), (u'Internal Security', u'Internal Security'), (u'Ishukone Corporation', u'Ishukone Corporation'), (u'Ishukone Watch', u'Ishukone Watch'), (u'Joint Harvesting', u'Joint Harvesting'), (u'Kaalakiota Corporation', u'Kaalakiota Corporation'), (u'Kador Family', u'Kador Family'), (u'Khanid Innovation', u'Khanid Innovation'), (u'Khanid Transport', u'Khanid Transport'), (u'Khanid Works', u'Khanid Works'), (u'Kor Azor Family', u'Kor Azor Family'), (u'Krusual tribe', u'Krusual tribe'), (u'Lai Dai Corporation', u'Lai Dai Corporation'), (u'Lai Dai Protection Service', u'Lai Dai Protection Service'), (u'Material Acquisition', u'Material Acquisition'), (u'Mercantile Club', u'Mercantile Club'), (u'Minedrill', u'Minedrill'), (u'Ministry of Assessment', u'Ministry of Assessment'), (u'Ministry of Internal Order', u'Ministry of Internal Order'), (u'Ministry of War', u'Ministry of War'), (u'Minmatar Mining Corporation', u'Minmatar Mining Corporation'), (u'Modern Finances', u'Modern Finances'), (u'Mordus Legion', u'Mordus Legion'), (u'Native Freshfood', u'Native Freshfood'), (u'Nefantar Miner Association', u'Nefantar Miner Association'), (u'Noble Appliances', u'Noble Appliances'), (u'Nugoeihuvi Corporation', u'Nugoeihuvi Corporation'), (u'Nurtura', u'Nurtura'), (u'Outer Ring Excavations', u'Outer Ring Excavations'), (u'Pator Tech School', u'Pator Tech School'), (u'Peace and Order Unit', u'Peace and Order Unit'), (u'Pend Insurance', u'Pend Insurance'), (u'Perkone', u'Perkone'), (u'Poksu Mineral Group', u'Poksu Mineral Group'), (u'Poteque Pharmaceuticals', u'Poteque Pharmaceuticals'), (u'President', u'President'), (u'Prompt Delivery', u'Prompt Delivery'), (u'Propel Dynamics', u'Propel Dynamics'), (u'Quafe Company', u'Quafe Company'), (u'Rapid Assembly', u'Rapid Assembly'), (u'Republic Fleet', u'Republic Fleet'), (u'Republic Justice Department', u'Republic Justice Department'), (u'Republic Military School', u'Republic Military School'), (u'Republic Parliament', u'Republic Parliament'), (u'Republic Security Services', u'Republic Security Services'), (u'Republic University', u'Republic University'), (u'Roden Shipyards', u'Roden Shipyards'), (u'Royal Amarr Institute', u'Royal Amarr Institute'), (u'Royal Khanid Navy', u'Royal Khanid Navy'), (u'Salvation Angels', u'Salvation Angels'), (u'Sarum Family', u'Sarum Family'), (u'School of Applied Knowledge', u'School of Applied Knowledge'), (u'Science and Trade Institute', u'Science and Trade Institute'), (u'Sebiestor tribe', u'Sebiestor tribe'), (u'Senate', u'Senate'), (u'Serpentis Corporation', u'Serpentis Corporation'), (u'Serpentis Inquest', u'Serpentis Inquest'), (u'Sisters of EVE', u'Sisters of EVE'), (u'Six Kin Development', u'Six Kin Development'), (u'Spacelane Patrol', u'Spacelane Patrol'), (u'State and Region Bank', u'State and Region Bank'), (u'State Protectorate', u'State Protectorate'), (u'State War Academy', u'State War Academy'), (u'Sukuuvestaa Corporation', u'Sukuuvestaa Corporation'), (u'Supreme Court', u'Supreme Court'), (u'Tash Murkon Family', u'Tash Murkon Family'), (u'The Leisure Group', u'The Leisure Group'), (u'Theology Council', u'Theology Council'), (u'The Sanctuary', u'The Sanctuary'), (u'The Scope', u'The Scope'), (u'Thukker Mix', u'Thukker Mix'), (u'Top Down', u'Top Down'), (u'TransStellar Shipping', u'TransStellar Shipping'), (u'Tribal Liberation Force', u'Tribal Liberation Force'), (u'True Creations', u'True Creations'), (u'True Power', u'True Power'), (u'Trust Partners', u'Trust Partners'), (u'University of Caille', u'University of Caille'), (u'Urban Management', u'Urban Management'), (u'Vherokior tribe', u'Vherokior tribe'), (u'Viziam', u'Viziam'), (u'Wiyrkomi Corporation', u'Wiyrkomi Corporation'), (u'Wiyrkomi Peace Corps', u'Wiyrkomi Peace Corps'), (u'Ytiri', u'Ytiri'), (u'Zainou', u'Zainou'), (u'Zero G Research Firm', u'Zero G Research Firm'), (u'Zoar and Sons', u'Zoar and Sons')]

# typeIDs of items that are purchaseable from 1 or more LP stores,
# sorted alphabetically by typeName.
lp_type_ids = [3574, 12484, 24592, 17794, 17795, 17793, 24597, 17514, 17502, 17503, 17504, 17505, 17506, 17507, 17508, 17509, 17510, 15788, 15789, 15859, 15858, 15857, 15856, 17536, 17538, 17539, 17540, 17541, 17542, 17543, 17544, 17545, 15855, 15854, 15853, 15808, 15809, 15852, 15778, 15779, 15798, 15799, 15879, 15880, 15851, 15743, 15947, 15948, 17512, 15742, 15850, 15776, 15777, 15945, 15946, 15796, 15797, 15877, 15878, 15849, 15848, 15847, 15846, 17516, 17518, 15741, 15772, 15773, 15941, 15942, 15794, 15795, 15875, 15876, 15845, 17726, 17727, 20721, 19994, 19970, 20737, 20727, 20000, 19976, 20739, 20735, 20008, 19992, 20741, 20731, 20004, 19988, 20743, 20723, 19996, 19972, 20745, 20733, 20006, 19990, 20747, 20725, 19998, 19974, 20749, 20729, 20002, 19986, 20751, 32305, 17922, 17923, 29337, 17920, 17921, 21236, 21220, 21206, 21252, 21228, 21212, 21198, 21244, 21226, 21210, 21196, 21242, 21238, 21222, 21208, 21254, 21224, 21450, 21194, 21240, 21230, 21214, 21200, 21246, 21232, 21216, 21202, 21248, 21234, 21218, 21204, 21250, 16546, 17643, 17647, 17646, 12487, 15824, 15823, 15821, 15822, 15820, 15818, 15819, 15817, 15816, 21740, 23025, 23009, 16061, 15681, 15682, 17495, 27359, 27361, 27423, 15790, 15791, 15675, 15676, 16062, 16063, 27429, 15815, 15814, 15915, 15916, 17496, 27371, 27315, 27401, 27321, 27453, 15913, 15914, 17497, 28377, 16064, 27405, 17619, 17620, 31872, 27351, 17498, 23049, 23035, 23019, 23053, 23039, 23023, 27345, 15911, 15912, 15931, 15932, 15900, 31930, 23047, 23033, 23017, 15909, 15910, 15929, 15930, 15899, 31926, 27339, 27377, 27327, 17499, 27381, 23041, 23027, 23011, 31952, 16065, 16066, 27387, 27441, 15905, 15906, 16067, 15925, 15926, 15898, 31922, 16068, 17500, 17501, 27413, 23045, 23031, 23015, 27333, 27435, 27419, 23051, 23037, 23021, 23043, 23029, 23013, 31874, 31878, 15889, 15890, 15887, 15888, 31876, 27447, 27395, 15897, 24593, 3537, 3535, 3580, 3545, 3543, 17634, 17635, 20212, 17926, 17927, 20121, 20157, 20159, 20160, 20158, 20161, 9943, 10222, 10221, 17720, 17721, 17928, 17929, 32307, 17932, 17933, 3557, 3562, 3560, 29344, 31898, 15770, 15771, 15768, 15769, 15766, 15767, 15764, 15765, 15844, 15843, 31902, 15761, 15762, 15759, 15760, 15841, 15842, 31906, 15840, 15838, 15839, 31910, 15837, 15836, 31918, 17549, 17550, 22993, 22977, 22961, 17832, 17833, 17834, 17835, 17836, 17837, 17838, 17839, 17841, 17842, 15677, 15678, 15835, 15834, 15833, 15739, 15740, 15737, 15738, 15735, 15736, 15733, 15734, 15731, 15732, 31886, 31882, 15832, 15831, 15830, 31880, 15829, 23003, 22987, 22971, 23007, 22991, 22975, 15746, 15955, 15956, 23001, 22985, 22969, 15828, 15827, 15826, 15895, 15896, 17551, 17552, 15745, 15953, 15954, 15825, 31884, 31942, 22995, 22979, 22963, 17553, 17554, 17555, 17556, 17520, 17521, 15744, 15949, 15950, 17559, 17561, 17557, 17558, 22999, 22983, 22967, 15792, 15793, 15967, 15968, 23005, 22989, 22973, 22997, 22981, 22965, 16547, 17850, 17849, 12486, 24594, 17848, 17715, 17716, 31954, 31955, 31956, 31957, 31958, 31959, 21366, 21350, 21334, 21368, 27357, 27353, 27409, 27427, 29616, 27367, 27313, 27319, 27451, 27349, 21356, 21340, 21324, 21370, 21352, 21336, 21320, 21372, 27343, 21358, 21342, 21326, 21374, 27337, 27373, 27325, 27379, 21364, 21348, 21332, 21376, 29618, 29620, 27383, 27439, 29622, 21360, 21344, 21328, 21378, 27331, 27433, 21354, 21338, 21322, 21380, 21362, 21346, 21330, 21382, 27445, 27391, 20498, 20500, 20502, 20504, 20506, 20508, 27147, 27148, 25547, 25548, 25545, 25546, 27240, 27238, 27239, 27075, 3190, 9957, 3191, 19686, 3192, 27081, 3193, 13244, 3194, 19687, 3195, 27090, 3196, 13219, 3197, 19688, 3198, 27087, 3185, 13222, 3188, 19689, 3189, 27084, 3199, 13225, 3200, 19690, 3201, 27099, 3093, 13240, 3094, 16004, 3095, 27097, 3096, 13237, 3097, 16003, 3100, 27098, 3101, 13238, 3102, 16005, 3103, 27111, 3104, 13239, 3105, 27110, 3108, 27113, 3109, 13241, 3110, 27112, 3111, 27100, 3112, 13243, 3113, 16006, 3116, 27115, 3117, 13242, 3118, 27114, 3119, 27101, 3120, 16008, 3121, 16009, 3124, 27102, 22534, 22535, 27151, 27149, 27150, 3202, 3203, 3204, 3205, 3206, 27082, 27079, 27077, 27088, 27085, 3207, 3208, 3209, 3210, 3211, 13223, 13246, 13166, 13217, 13220, 3212, 3213, 3214, 3215, 3216, 19691, 19692, 19693, 19694, 19695, 27070, 13258, 19547, 3291, 3292, 3299, 27071, 17871, 19548, 3414, 3415, 3470, 27072, 13257, 19549, 3471, 3474, 3475, 27073, 19684, 19685, 3476, 3477, 3478, 27074, 13256, 19550, 3479, 3481, 3482, 3239, 27117, 3237, 13259, 3238, 27116, 3246, 27119, 3240, 13260, 3241, 27118, 3249, 27120, 3247, 13265, 3248, 27121, 3252, 27123, 3250, 13251, 3251, 27122, 3255, 27125, 3253, 13255, 3254, 27124, 3258, 27127, 3256, 13261, 3257, 27126, 27103, 22570, 22571, 27191, 27186, 27190, 27193, 27187, 27192, 27195, 27188, 27194, 27196, 27197, 27198, 27260, 27170, 27167, 27171, 27175, 27169, 27174, 27180, 27177, 27179, 27182, 27176, 27181, 27185, 27178, 27184, 27076, 10204, 19696, 3217, 3234, 3235, 27078, 13245, 19697, 3236, 3220, 3221, 27089, 13218, 19698, 3222, 3223, 3224, 27086, 13221, 19699, 3231, 3232, 3233, 27083, 13224, 19700, 3225, 3226, 3227, 27094, 24632, 24640, 3125, 3126, 3127, 27092, 13247, 24636, 3128, 3129, 3132, 27093, 13248, 24637, 3133, 3134, 3135, 27096, 13249, 24638, 3136, 3137, 3140, 27095, 13250, 24639, 3141, 3142, 3143, 27091, 24641, 24642, 3144, 3145, 3148, 13253, 3078, 16245, 3079, 27104, 3077, 10228, 3081, 16246, 3084, 27105, 3080, 13262, 3086, 16247, 3087, 27106, 3085, 13263, 3089, 16248, 3092, 27107, 3088, 13252, 3229, 16249, 3230, 27080, 3228, 27129, 3262, 13254, 3263, 27128, 3264, 27143, 3265, 13216, 3266, 27142, 3267, 27131, 3268, 10244, 3269, 27130, 3270, 27226, 3271, 13232, 3272, 27225, 3273, 27229, 3274, 13233, 3275, 27227, 3276, 27231, 3277, 13234, 3278, 27230, 3279, 27233, 3280, 13235, 3281, 27232, 3282, 27235, 3283, 13236, 3284, 27234, 3287, 27237, 3288, 27224, 3289, 27236, 3290, 3149, 3150, 3151, 13227, 3153, 27243, 3156, 27244, 3152, 27109, 3158, 27245, 3159, 27246, 3157, 13228, 3161, 27247, 3164, 27249, 3160, 13229, 3166, 27250, 3167, 27251, 3165, 27108, 3169, 27252, 3172, 27253, 3168, 13230, 3174, 27254, 3175, 27255, 3173, 13231, 3177, 27256, 3180, 27257, 3176, 13226, 3182, 27258, 3183, 27259, 3181, 25718, 20211, 16552, 31896, 31900, 31904, 31908, 31916, 31864, 15693, 15694, 15711, 15712, 15709, 15710, 15707, 15708, 15705, 15706, 17528, 17529, 17526, 17527, 31868, 15874, 15873, 15872, 15871, 15729, 15730, 15727, 15728, 15725, 15726, 15723, 15724, 15721, 15722, 15870, 15869, 23107, 23091, 23073, 15868, 15810, 15811, 15867, 15786, 15787, 15804, 15805, 15885, 15886, 15866, 31866, 23115, 23099, 23081, 17546, 15963, 15964, 31946, 15691, 15692, 17547, 15865, 15784, 15785, 15961, 15962, 15802, 15803, 31948, 15883, 15884, 15864, 15863, 15862, 23117, 23101, 23083, 23105, 23089, 23071, 31870, 15861, 23119, 23103, 23085, 15689, 15690, 15687, 15688, 17703, 17704, 17548, 15780, 15781, 15957, 15958, 15800, 15801, 31950, 15881, 15882, 23113, 23097, 23079, 15860, 15685, 15686, 23111, 23095, 23077, 23109, 23093, 23075, 31974, 31975, 31976, 31977, 31978, 31979, 24596, 28520, 28522, 28524, 28526, 28528, 28563, 28532, 28530, 28561, 28534, 28536, 28538, 28540, 28542, 28565, 28544, 28545, 28547, 28549, 28550, 28552, 28554, 28511, 28556, 28557, 28514, 28559, 28516, 28518, 16550, 12203, 12209, 12205, 12212, 12215, 12207, 28729, 28731, 28733, 28735, 28737, 13287, 14298, 3547, 13284, 14297, 13285, 14296, 13283, 14295, 13286, 14299, 3564, 28790, 28791, 28792, 28793, 28794, 28795, 22107, 22108, 22109, 22110, 22111, 22112, 28814, 28815, 28816, 28817, 28818, 28819, 32101, 32102, 32103, 32104, 32105, 32122, 22113, 22114, 22115, 22116, 22117, 22118, 28802, 28803, 28804, 28805, 28806, 28807, 32117, 32118, 32119, 32120, 32121, 32123, 28796, 28797, 28798, 28799, 28800, 28801, 22119, 22120, 22121, 22122, 22123, 22124, 22125, 22126, 22127, 22128, 22129, 22130, 32107, 32108, 32109, 32110, 32111, 32124, 22131, 22133, 22134, 22135, 22136, 22137, 32112, 32113, 32114, 32115, 32116, 32125, 28808, 28809, 28810, 28811, 28812, 28813, 17738, 17739, 12202, 12208, 12204, 12211, 12214, 12206, 17728, 17729, 9941, 10209, 10208, 16549, 12485, 24595, 17815, 17816, 17814, 31982, 31990, 31998, 32006, 32014, 31936, 9942, 10213, 10212, 17736, 17737, 9899, 10217, 10216, 17709, 17710, 28748, 28752, 28750, 28754, 29340, 17718, 17719, 16548, 3572, 17918, 17919, 17636, 17637, 15757, 15758, 15755, 15756, 15753, 15754, 15751, 15752, 16047, 16046, 16048, 16049, 15749, 15750, 15747, 15748, 16050, 16051, 16052, 16053, 16054, 16055, 16056, 16057, 15703, 15704, 15719, 15720, 15717, 15718, 15715, 15716, 15713, 15714, 17484, 15683, 15684, 31892, 31894, 28324, 28326, 28328, 17485, 17486, 28332, 28334, 28336, 16058, 16059, 16060, 21894, 21896, 21898, 15923, 15924, 17812, 17813, 21902, 21904, 21906, 15806, 15807, 15921, 15922, 28375, 17487, 15919, 15920, 17492, 15939, 15940, 15904, 31932, 15701, 15702, 15917, 15918, 17493, 15937, 15938, 15903, 31928, 15813, 21910, 21912, 21914, 15812, 21918, 21922, 21924, 21926, 21928, 21931, 15699, 15700, 15697, 15698, 17488, 17489, 15907, 15908, 17490, 17494, 15935, 15936, 15902, 31924, 17491, 31944, 15695, 15696, 21935, 21937, 21939, 15965, 15966, 31890, 15891, 15892, 15893, 15894, 31888, 15901, 20209, 20837, 20829, 20821, 20845, 20022, 20014, 19982, 20030, 20020, 20012, 19980, 20028, 20839, 20831, 20823, 20847, 20018, 20010, 19978, 20026, 20024, 20016, 19984, 20032, 20833, 20825, 20817, 20841, 20835, 20827, 20819, 20843, 32309, 29336, 20927, 20057, 20040, 20929, 20917, 20047, 19966, 20931, 20913, 20043, 19962, 20933, 20919, 20049, 19968, 20935, 20925, 20055, 20038, 20937, 20921, 20051, 20034, 20939, 20915, 20045, 19964, 20941, 20923, 20053, 20036, 20943, 3570, 30486, 28758, 30488, 30490, 28756, 20499, 20501, 20503, 20505, 20507, 20509, 12201, 11084, 11083, 12210, 12213, 11082, 19540, 19551, 19554, 19555, 19553, 19556, 9956, 10226, 10225, 31968, 31969, 31970, 31971, 31972, 31973, 17713, 17714, 20210, 17924, 17925, 28778, 28780, 28782, 28784, 28786, 28788, 28770, 28772, 28774, 28776, 28671, 28673, 28675, 28677, 28679, 28681, 28685, 28683, 19534, 19535, 19537, 19538, 19536, 19539, 31962, 31963, 31964, 31965, 31966, 31967, 17732, 17733, 28744, 28746, 28740, 28739, 28742, 20213, 16551, 32311, 17843, 17844, 17722, 17723, 17740, 17741, 17930, 17931]

# Choices for theme selector.
theme_choices = [('dark', 'Dark'), ('blue', 'Blue')]


# Choices for item list of LPCalcItem form on first step of lp_calc.
# Create a list of unique invTypes which observe the following conditions:
# -purchasable from 1 or more LP stores
# -have both buy and sell orders in DB
#
# Also append the # of buy and sell orders to the description of each entry.
    
LPitems = []

for t in lp_type_ids:
    x = invTypes.objects.get(typeID=t)
    if (len(MarketRecord.objects.filter(typeID__exact=x.typeID).filter(bid__exact=True)) != 0) and \
        (len((MarketRecord.objects.filter(typeID__exact=x.typeID).filter(bid__exact=False))) != 0):
            LPitems.append((x.typeID, x.typeName + ' [' + str(x.typeID) + ']' + \
                ' (B:' + str(len(MarketRecord.objects.filter(typeID__exact=x.typeID).filter(bid__exact=True))) + \
                ' S:' + str(len(MarketRecord.objects.filter(typeID__exact=x.typeID).filter(bid__exact=False))) + ')'))

# Form used for uploading market dumps.
class UploadFileForm(forms.Form):
    file  = forms.FileField()

# Form to get the NPC corp and amt of spendable LP
class LPCalcStep1(forms.Form):
    corp = forms.ChoiceField(choices=lp_corps[1:]) # Corp we're shopping for
    spendable = forms.IntegerField() # Amount of LP to spend
    error_css_class = 'error'
    required_css_class = 'required'
    #step = forms.IntegerField(widget=forms.HiddenInput, initial=1)

# Form to get a list of item(s) from the selected NPC corp
class LPCalcStep2(forms.Form):
    # 'size' attr is height of widget (# of entries visible)
    #corp = forms.IntegerField(widget=forms.HiddenInput) # corp ID from evenames
    #step = forms.IntegerField(widget=forms.HiddenInput, initial=1.5)
    item_choices = []
    items = forms.MultipleChoiceField()#choices=item_choices, widget=forms.SelectMultiple(attrs={'size': 30}))
    error_css_class = 'error'
    required_css_class = 'required'
    
    def __init__(self, get):
        print '** IN LPCalcStep2.__init__()...'
        
        super(LPCalcStep2, self).__init__(get)
        
        corp_id = evenames.objects.get(itemname__exact=get['corp'])
        
        if corp_id:
            
            print '** Seeing "corp_id":', corp_id.itemid
            
            self.item_choices = []
            
            # Get a list of rewards from the chosen corp.
            for i in LP_Reward.objects.filter(corp_id_id__exact=corp_id.itemid):
                #print i.award_type_id.typeName
                # Getting the invType allows us to use marketrecord_set to find orders.
                t = invTypes.objects.get(typeID=i.award_type_id_id)
                
                buys = len(t.marketrecord_set.filter(bid__exact=True))
                sells = len(t.marketrecord_set.filter(bid__exact=False))
                
                #print 'buys:', buys, 'sells:', sells
                
                # Build a list of items that have buy and sell orders.
                if ( buys != 0 and sells != 0 ):
                    self.item_choices.append((i.award_type_id_id, i.award_type_id.typeName + ' (B: ' + str(buys) + ', S: ' + str(sells) + ')'))
                    
            self.fields['items'] = forms.MultipleChoiceField(choices=self.item_choices, widget=forms.SelectMultiple(attrs={'size': 30}))
            
            #self.fields['step'] = forms.IntegerField(widget=forms.HiddenInput, initial=1.5)
            #print '** choices:', self.item_choices
            #else:
            #    print '!! Error: no corp passed to LPCalcStep2 __init__(): '
            #    print self._errors

# Form to choose the region and price statistic for each item to use in
# calculations.
class LPCalcDetails(forms.Form):
    # Available price stat options. These are all generated by SQL aggregate
    # functions performed on a filtered query.
    __priceStats = (
        ('meanbp', 'Mean Buy Price'),
        #('medbp', 'Median Buy Price'),
        ('hbp', 'High Buy Price'),
        ('lbp', 'Low Buy Price'),
        ('meansp', 'Mean Sell Price'),
        #('medsp', 'Median Sell Price'),
        ('hsp', 'High Sell Price'),
        ('lsp', 'Low Sell Price')
    )
    region = forms.MultipleChoiceField(choices=regions, initial=(10000002, u'The Forge (10000002)'))
    stat = forms.ChoiceField(choices=__priceStats)
    item_name = ''
    #step = forms.IntegerField(widget=forms.HiddenInput, initial=2)

# Form to allow filtering on the LP reward search.
class LPSearchFilter(forms.Form):
    typeid = forms.CharField(label='Search for a type of item by name (ex. "eifyr", "sansha tag", "xl")',
                             min_length=3,
                             widget=forms.TextInput(attrs={'size': '50'}))
    corp = forms.ChoiceField(choices=lp_corps, label='Corporation')

class ThemeSelector(forms.Form):
    themes = forms.ChoiceField(choices=theme_choices, label='Theme')
    from_url = forms.HiddenInput()